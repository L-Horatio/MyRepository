<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"
        "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">
<mapper namespace="cn.tedu.store.mapper.AddressMapper">

    <!--增加收货地址-->
    <!--Integer addnew(Address address);-->
    <insert id="addnew" parameterType="cn.tedu.store.entity.Address" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO t_address (
            uid, name, province, city,
            area, district, zip, address,
            phone, tel, tag, is_default,
            created_user, created_time, modified_user, modified_time
        ) VALUES (
            #{uid}, #{name}, #{province}, #{city},
            #{area}, #{district}, #{zip}, #{address},
            #{phone}, #{tel}, #{tag}, #{isDefault},
            #{createdUser}, #{createdTime}, #{modifiedUser}, #{modifiedTime}
        )
    </insert>

    <!--根据uid查询收货地址的数量-->
    <!--Integer getCountByUid(Integer uid);-->
    <select id="getCountByUid" resultType="java.lang.Integer">
        SELECT
            COUNT(id)
        FROM
            t_address
        WHERE
            uid=#{uid}
    </select>
</mapper>